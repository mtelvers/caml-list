Return-Path: <caml-list-owner@inria.fr>
Received-SPF: Pass (mailfrom) identity=mailfrom; client-ip=192.134.164.83; helo=mail2-relais-roc.national.inria.fr; envelope-from=caml-list-owner@inria.fr; receiver=<UNKNOWN> 
Authentication-Results: plum; dmarc=pass (p=none dis=none) header.from=inria.fr
Authentication-Results: plum.tunbury.org;
	dkim=pass (1024-bit key; unprotected) header.d=inria.fr header.i=@inria.fr header.a=rsa-sha256 header.s=dc header.b=qJArWxVY;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=inria.fr header.i=@inria.fr header.a=rsa-sha256 header.s=dc header.b=kZLPzwOp;
	dkim-atps=neutral
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by plum.tunbury.org (Postfix) with ESMTPS id E6A4AB80123
	for <caml-list@tunbury.org>; Tue, 16 Apr 2024 13:26:18 +0100 (BST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
  d=inria.fr; s=dc;
  h=date:from:to:message-id:in-reply-to:references:
   mime-version:subject:reply-to:sender:list-id:list-help:
   list-subscribe:list-unsubscribe:list-post:list-owner:
   list-archive;
  bh=1FQ0xMOlt6DjdIFrWVb1RY2enWyoWAPwnPl3si1UQEI=;
  b=qJArWxVY5x0pmlbW0lTMZYFXkfiQW4UHBTqOjK91mV9UtREVvDIZRF9T
   j78GtIgAoUVwzl1cnn05hA9XArFfqkssN49A29qaJuGSUc7x6I51Z6q8c
   4r1rvXgkWN2GWMKridScNNnicDJzTzNVQiUOj9P9ogo/jQ3aXZzErHngc
   A=;
Received-SPF: Pass (mail2-relais-roc.national.inria.fr: domain of
  caml-list-owner@inria.fr designates 128.93.162.160 as
  permitted sender) identity=mailfrom;
  client-ip=128.93.162.160;
  receiver=mail2-relais-roc.national.inria.fr;
  envelope-from="caml-list-owner@inria.fr";
  x-sender="caml-list-owner@inria.fr"; x-conformance=spf_only;
  x-record-type="v=spf1"; x-record-text="v=spf1
  include:mailout.safebrands.com a:basic-mail.safebrands.com
  a:basic-mail01.safebrands.com a:basic-mail02.safebrands.com
  ip4:128.93.142.0/24 ip4:192.134.164.0/24 ip4:128.93.162.160
  ip4:89.107.174.7 mx ~all"
Received-SPF: None (mail2-relais-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@sympa.inria.fr) identity=helo;
  client-ip=128.93.162.160;
  receiver=mail2-relais-roc.national.inria.fr;
  envelope-from="caml-list-owner@inria.fr";
  x-sender="postmaster@sympa.inria.fr"; x-conformance=spf_only
Authentication-Results: mail2-relais-roc.national.inria.fr; spf=Pass smtp.mailfrom=caml-list-owner@inria.fr; spf=None smtp.helo=postmaster@sympa.inria.fr; dkim=hardfail (signature did not verify [final]) header.i=@inria.fr
X-IronPort-AV: E=Sophos;i="6.07,206,1708383600"; 
   d="scan'208,217";a="161854120"
Received: from prod-listesu18.inria.fr (HELO sympa.inria.fr) ([128.93.162.160])
  by mail2-relais-roc.national.inria.fr with ESMTP; 16 Apr 2024 14:26:18 +0200
Received: by sympa.inria.fr (Postfix, from userid 20132)
	id 11457E0133; Tue, 16 Apr 2024 14:26:18 +0200 (CEST)
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id 5290CE0133
	for <caml-list@sympa.inria.fr>; Tue, 16 Apr 2024 14:26:14 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
  d=inria.fr; s=dc;
  h=date:from:to:message-id:in-reply-to:references:subject:
   mime-version;
  bh=1FQ0xMOlt6DjdIFrWVb1RY2enWyoWAPwnPl3si1UQEI=;
  b=kZLPzwOpxYtIka02ywmdWrlmvi1JeBDVw+V1nTYhgLXy6ISMZST0Loc6
   Y/lX/jRediijv6qNA9uV4vRPsFGR4bHbfUF60l5eZtqYZKWSFicjgi7vt
   ZHWBNNHs5vqkIbtn4faRCh/1E72zAFTncNjhKhcMAVTiFnid9EeFRmfy3
   I=;
X-IronPort-AV: E=Sophos;i="6.07,206,1708383600"; 
   d="scan'208,217";a="161854088"
X-MGA-submission: =?us-ascii?q?MDFi9Ed4d3DAHiYY0vLMxNV8O0faT4ph4xqYD+?=
 =?us-ascii?q?SFYjmqS4YXvWXP9eINBQtuJklrfusX4D3uDvK/8qTZzNFzMqnUMMqtsl?=
 =?us-ascii?q?mbsUkZV64xuF++FBQNJpRaB7PY0KDqnhmN6h9yXVpepJ5dKeCu+c0u8Z?=
 =?us-ascii?q?ZIhYQ9ZJZE9C8zEQjYla351g=3D=3D?=
Received: from zcs2-store1.inria.fr ([128.93.142.3])
  by mail2-relais-roc.national.inria.fr with ESMTP; 16 Apr 2024 14:26:14 +0200
Date: Tue, 16 Apr 2024 14:26:14 +0200 (CEST)
From: Florian Angeletti <florian.angeletti@inria.fr>
To: caml-list <caml-list@inria.fr>
Message-ID: <1286918053.975614.1713270374133.JavaMail.zimbra@inria.fr>
In-Reply-To: <521387019.8365666.1711379748150.JavaMail.zimbra@inria.fr>
References: <1337469696.7444873.1707300411976.JavaMail.zimbra@inria.fr> <521387019.8365666.1711379748150.JavaMail.zimbra@inria.fr>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="=_b15b4cd8-10fa-4ed2-af85-941a25f5c777"
X-Originating-IP: [128.93.64.106]
X-Mailer: Zimbra 10.0.7_GA_4598 (ZimbraWebClient - FF123 (Linux)/10.0.7_GA_4598)
Thread-Topic: Second beta release of OCaml 5.2.0
Thread-Index: KuH15Xrfj0w7cAgGbhniega0brreZNVcrAjrgblSSHc=
Subject: [Caml-list] Second beta release of OCaml 5.2.0
Reply-To: Florian Angeletti <florian.angeletti@inria.fr>
X-Loop: caml-list@inria.fr
X-Sequence: 19113
Errors-To: caml-list-owner@inria.fr
Precedence: list
Precedence: bulk
Sender: caml-list-request@inria.fr
X-no-archive: yes
List-Id: <caml-list.inria.fr>
List-Help: <mailto:sympa_inria@inria.fr?subject=help>
List-Subscribe: <mailto:sympa_inria@inria.fr?subject=subscribe%20caml-list>
List-Unsubscribe: <mailto:sympa_inria@inria.fr?subject=unsubscribe%20caml-list>
List-Post: <mailto:caml-list@inria.fr>
List-Owner: <mailto:caml-list-request@inria.fr>
List-Archive: <https://sympa.inria.fr/sympa/arc/caml-list>
Archived-At: <https://sympa.inria.fr/sympa/arcsearch_id/caml-list/2024-04/1286918053.975614.1713270374133.JavaMail.zimbra%40inria.fr>

--=_b15b4cd8-10fa-4ed2-af85-941a25f5c777
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Dear OCaml users,=20

Last week, we merged an update to the compiler-libs "shape" API for queryin=
g=20
definition information from the compiler in the 5.2 branch of the compiler.=
=20

Unfortunately, this small change of API breaks compatibility with at least =
odoc.=20
Generally, we try to avoid this changes to the compiler library during the =
beta=20
releases of the compiler. However, after discussions, we concluded that it =
will=20
be easier on the long term to fix the API right now in order to avoid multi=
plying=20
the number of supported versions of the shape API in the various OCaml=20
developer tools .=20

We have thus released a second beta version of OCaml 5.2.0 to give the time=
=20
to developer tools to update their 5.2.0 version ahead of the release=20
(see below for the installation instructions).=20

Beyond this changes of API, the new beta contains three minor bug fixes and=
 three=20
documentation updates, which is a good sign in term of stability.=20

As usual, you can follow the last remaining compatibility slags on the=20
opam readiness for 5.2.0 meta-issue (https://github.com/ocaml/opam-reposito=
ry/issues/25182).=20

If you find any bugs, please report them on OCaml's issue tracker (https://=
github.com/ocaml/ocaml/issues).=20

Currently, the release is planned for the beginning of May.=20

If you are interested in full list of features and bug fixes of the new OCa=
ml version, the=20
updated change log for OCaml 5.2.0 is available on GitHub (https://github.c=
om/ocaml/ocaml/blob/5.2/Changes).=20

Happy hacking,=20
Florian Angeletti for the OCaml team.=20

Installation Instructions=20
----------------------------=20

The base compiler can be installed as an opam switch with the following com=
mands=20
on opam 2.1:=20

opam update=20
opam switch create 5.2.0~beta2=20

The source code for the beta is also available at these addresses:=20

- GitHub: https://github.com/ocaml/ocaml/archive/5.2.0-beta2.tar.gz=20
- OCaml archives at Inria: https://caml.inria.fr/pub/distrib/ocaml-5.2/ocam=
l-5.2.0~beta2.tar.gz=20

Fine-Tuned Compiler Configuration=20
-----------------------------------------------=20

If you want to tweak the configuration of the compiler, you can switch to t=
he option variant with:=20

opam update=20
opam switch create <switch_name> ocaml-variants.5.2.0~beta2+options <option=
_list>=20

where `option_list` is a space-separated list of `ocaml-option-*` packages.=
=20
For instance, for a `flambda` and `no-flat-float-array` switch:=20

opam switch create 5.2.0~beta2+flambda+nffa ocaml-variants.5.2.0~beta2+opti=
ons ocaml-option-flambda ocaml-option-no-flat-float-array=20

All available options can be listed with `opam search ocaml-option`.=20

Changes since the first beta=20
----------------------------=20

### Compiler-libs API Changes=20

- #13001(https://github.com/ocaml/ocaml/issues/13001): do not read_back ent=
ire shapes to get aliases' uids when building the=20
usages index=20
(Ulysse G=E9rard, review by Gabriel Scherer and Nathana=EBlle Courant)=20

### Bug Fixes=20

- #13058(https://github.com/ocaml/ocaml/issues/13058): Add TSan instrumenta=
tion to caml_call_gc(), since it may raise=20
exceptions.=20
(Fabrice Buoro, Olivier Nicole, Gabriel Scherer and Miod Vallat)=20

- #13079(https://github.com/ocaml/ocaml/issues/13079): Save and restore fra=
me pointer across Iextcall on ARM64=20
(Tim McGilchrist, review by KC Sivaramakrishnan and Miod Vallat)=20

- #13094(https://github.com/ocaml/ocaml/issues/13094): Fix undefined behavi=
or of left-shifting a negative number.=20
(Antonin D=E9cimo, review by Miod Vallat and Nicol=E1s Ojeda B=E4r)=20

### Documentation Updates=20

- #13078(https://github.com/ocaml/ocaml/issues/13078): update Format tutori=
al on structural boxes to mention alignment=20
questions.=20
(Edwin T=F6r=F6k, review by Florian Angeletti)=20

- #13092(https://github.com/ocaml/ocaml/issues/13092): document the existen=
ce of the `[@@poll error]` built-in attribute=20
(Florian Angeletti, review by Gabriel Scherer)=20

- #13066(https://github.com/ocaml/ocaml/issues/13066), update OCAMLRUNPARAM=
 documentation for the stack size parameter l=20
(Florian Angeletti, review by Nicol=E1s Ojeda B=E4r, Tim McGilchrist, and M=
iod Vallat)=20

--=_b15b4cd8-10fa-4ed2-af85-941a25f5c777
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

<html><body><div style=3D"font-family: arial, helvetica, sans-serif; font-s=
ize: 12pt; color: #000000"><div>Dear OCaml users,</div><div><br data-mce-bo=
gus=3D"1"></div><div>Last week, we merged an update to the compiler-libs "s=
hape" API for querying</div><div>definition information from the compiler i=
n the 5.2 branch of the compiler.<br><br>Unfortunately, this small change o=
f API breaks compatibility with at least odoc.<br>Generally, we try to avoi=
d this changes to the compiler library during the beta</div><div>releases o=
f the compiler. However, after discussions, we concluded that it will</div>=
<div>be easier on the long term to fix the API right now in order to avoid =
multiplying</div><div>the number of supported versions of the shape API in =
the various OCaml</div><div>developer tools .<br><br>We have thus released =
a second beta version of OCaml 5.2.0 to give the time</div><div>to develope=
r tools to update their 5.2.0 version ahead of the release</div><div>(see b=
elow for the installation instructions).<br><br>Beyond this changes of API,=
 the new beta contains three minor bug fixes and three<br>documentation upd=
ates, which is a good sign in term of stability.<br><br>As usual, you can f=
ollow the last remaining compatibility slags on the<br>opam readiness for 5=
.2.0 meta-issue (https://github.com/ocaml/opam-repository/issues/25182).<br=
><br>If you find any bugs, please report them on OCaml's issue tracker (htt=
ps://github.com/ocaml/ocaml/issues).<br><br>Currently, the release is plann=
ed for the beginning of May.<br><br>If you are interested in full list of f=
eatures and bug fixes of the new OCaml version, the<br>updated change log f=
or OCaml 5.2.0 is available on GitHub (https://github.com/ocaml/ocaml/blob/=
5.2/Changes).</div><div><br>Happy hacking,<br>Florian Angeletti for the OCa=
ml team.</div><div><br>Installation Instructions<br>-----------------------=
-----<br><br>The base compiler can be installed as an opam switch with the =
following commands<br>on opam 2.1:<br><br>&nbsp;&nbsp; opam update<br>&nbsp=
;&nbsp; opam switch create 5.2.0~beta2<br><br>The source code for the beta =
is also available at these addresses:<br><br>- GitHub: https://github.com/o=
caml/ocaml/archive/5.2.0-beta2.tar.gz<br>- OCaml archives at Inria: https:/=
/caml.inria.fr/pub/distrib/ocaml-5.2/ocaml-5.2.0~beta2.tar.gz<br><br>Fine-T=
uned Compiler Configuration</div><div>-------------------------------------=
----------<br><br>If you want to tweak the configuration of the compiler, y=
ou can switch to the option variant with:<br><br><br>&nbsp;&nbsp; opam upda=
te<br>&nbsp;&nbsp; opam switch create &lt;switch_name&gt; ocaml-variants.5.=
2.0~beta2+options &lt;option_list&gt;<br><br>where `option_list` is a space=
-separated list of `ocaml-option-*` packages.</div><div>For instance, for a=
 `flambda` and `no-flat-float-array` switch:<br><br>&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; opam switch create 5.2.0~beta2+flambda+nffa ocaml-variants.5.2.0~be=
ta2+options ocaml-option-flambda ocaml-option-no-flat-float-array<br><br><b=
r>All available options can be listed with `opam search ocaml-option`.<br><=
br><br>Changes since the first beta<br>----------------------------<br><br>=
### Compiler-libs API Changes<br><br>- #13001(https://github.com/ocaml/ocam=
l/issues/13001): do not read_back entire shapes to get aliases' uids when b=
uilding the<br>&nbsp; usages index<br>&nbsp; (Ulysse G=E9rard, review by Ga=
briel Scherer and Nathana=EBlle Courant)<br><br>### Bug Fixes<br><br>- #130=
58(https://github.com/ocaml/ocaml/issues/13058): Add TSan instrumentation t=
o caml_call_gc(), since it may raise<br>&nbsp; exceptions.<br>&nbsp; (Fabri=
ce Buoro, Olivier Nicole, Gabriel Scherer and Miod Vallat)<br><br>- #13079(=
https://github.com/ocaml/ocaml/issues/13079): Save and restore frame pointe=
r across Iextcall on ARM64<br>&nbsp; (Tim McGilchrist, review by KC Sivaram=
akrishnan and Miod Vallat)<br><br>- #13094(https://github.com/ocaml/ocaml/i=
ssues/13094): Fix undefined behavior of left-shifting a negative number.<br=
>&nbsp; (Antonin D=E9cimo, review by Miod Vallat and Nicol=E1s Ojeda B=E4r)=
<br><br>### Documentation Updates<br><br>- #13078(https://github.com/ocaml/=
ocaml/issues/13078): update Format tutorial on structural boxes to mention =
alignment<br>&nbsp; questions.<br>&nbsp; (Edwin T=F6r=F6k, review by Floria=
n Angeletti)<br><br>- #13092(https://github.com/ocaml/ocaml/issues/13092): =
document the existence of the `[@@poll error]` built-in attribute<br>&nbsp;=
 (Florian Angeletti, review by Gabriel Scherer)<br><br>- #13066(https://git=
hub.com/ocaml/ocaml/issues/13066), update OCAMLRUNPARAM documentation for t=
he stack size parameter l<br>&nbsp; (Florian Angeletti, review by Nicol=E1s=
 Ojeda B=E4r, Tim McGilchrist, and Miod Vallat)<br><br data-mce-bogus=3D"1"=
></div></div></body></html>
--=_b15b4cd8-10fa-4ed2-af85-941a25f5c777--
