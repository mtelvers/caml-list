Return-Path: <caml-list-owner@inria.fr>
Authentication-Results: plum.tunbury.org;
	dkim=pass (1024-bit key; unprotected) header.d=inria.fr header.i=@inria.fr header.a=rsa-sha256 header.s=dc header.b=RXKpi8eT;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=inria.fr header.i=@inria.fr header.a=rsa-sha256 header.s=dc header.b=LRm6as8X;
	dkim-atps=neutral
Received-SPF: Pass (mailfrom) identity=mailfrom; client-ip=192.134.164.83; helo=mail2-relais-roc.national.inria.fr; envelope-from=caml-list-owner@inria.fr; receiver=tunbury.org 
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by plum.tunbury.org (Postfix) with ESMTPS id 2ACCB4AA89
	for <caml-list@tunbury.org>; Fri, 29 Nov 2024 09:24:27 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
  d=inria.fr; s=dc;
  h=date:from:to:message-id:mime-version:subject:reply-to:
   sender:list-id:list-help:list-subscribe:list-unsubscribe:
   list-post:list-owner:list-archive;
  bh=If7bKp6g2IuHxoN6MK0rXn4iGILnGOu1ITVpbydwRZY=;
  b=RXKpi8eTNH6aZJwgY/u4JLtjVlqjxRcXSwhSaAkkdlf/HBJZ3/eck+07
   gqx2shyNlyb6essbCU7upt8AijEhvqZOAWOmZsGhLTl86g6Qt8HNdiTWJ
   qLsv9kPnricy35p/9BNVOeF5RSH39vKONbgFUw3BCfKz/yJNBHABVp7sO
   A=;
Received-SPF: Pass (mail2-relais-roc.national.inria.fr: domain of
  caml-list-owner@inria.fr designates 128.93.162.160 as
  permitted sender) identity=mailfrom;
  client-ip=128.93.162.160;
  receiver=mail2-relais-roc.national.inria.fr;
  envelope-from="caml-list-owner@inria.fr";
  x-sender="caml-list-owner@inria.fr"; x-conformance=spf_only;
  x-record-type="v=spf1"; x-record-text="v=spf1
  include:mailout.safebrands.com a:basic-mail.safebrands.com
  a:basic-mail01.safebrands.com a:basic-mail02.safebrands.com
  ip4:128.93.142.0/24 ip4:192.134.164.0/24 ip4:128.93.162.160
  ip4:128.93.162.3 ip4:128.93.162.88 ip4:89.107.174.7 mx ~all"
Received-SPF: None (mail2-relais-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@sympa.inria.fr) identity=helo;
  client-ip=128.93.162.160;
  receiver=mail2-relais-roc.national.inria.fr;
  envelope-from="caml-list-owner@inria.fr";
  x-sender="postmaster@sympa.inria.fr"; x-conformance=spf_only
Authentication-Results: mail2-relais-roc.national.inria.fr; spf=Pass smtp.mailfrom=caml-list-owner@inria.fr; spf=None smtp.helo=postmaster@sympa.inria.fr; dkim=hardfail (signature did not verify [final]) header.i=@inria.fr
X-IronPort-AV: E=Sophos;i="6.12,195,1728943200"; 
   d="scan'208,217";a="196455946"
Received: from prod-listesu18.inria.fr (HELO sympa.inria.fr) ([128.93.162.160])
  by mail2-relais-roc.national.inria.fr with ESMTP; 29 Nov 2024 10:24:25 +0100
Received: by sympa.inria.fr (Postfix, from userid 20132)
	id 924D1E0D24; Fri, 29 Nov 2024 10:24:25 +0100 (CET)
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id D7F2FE00B6
	for <caml-list@sympa.inria.fr>; Fri, 29 Nov 2024 10:24:23 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
  d=inria.fr; s=dc;
  h=date:from:to:message-id:subject:mime-version;
  bh=If7bKp6g2IuHxoN6MK0rXn4iGILnGOu1ITVpbydwRZY=;
  b=LRm6as8X9glralV0dpAMI4X+cS5TFUT/OP0foArDyObGIonvJhexgc4C
   uVLGuLxHx7PG9EOXnJiXJk/bzA0AVN1GuNna8gF+u9TfU03/NaCdbFQwO
   Z53G4gIm9gJJaZx7l/l//GAh7EK+rgyWPXFXqvP/GdfhRxxKMlf+MmBr2
   E=;
X-IronPort-AV: E=Sophos;i="6.12,195,1728943200"; 
   d="scan'208,217";a="196455919"
X-MGA-submission: =?us-ascii?q?MDF6SAPYFC0H2At4iCwik0D+jg/s1h9eOn8Xjr?=
 =?us-ascii?q?xldUNZWjIfz83O0FUyDcjiuwgFxyxEcPEru94eizzhTOc0Q0VmyzW1zD?=
 =?us-ascii?q?TzYuZUEv2txOYnNbrgRYpJ45dTwYUuQDsXM+BkVNA+EpZZaPVjBJaITt?=
 =?us-ascii?q?zUXFGRfddR59y68q+Tb6WV2A=3D=3D?=
Received: from zcs2-store1.inria.fr ([128.93.142.3])
  by mail2-relais-roc.national.inria.fr with ESMTP; 29 Nov 2024 10:24:23 +0100
Date: Fri, 29 Nov 2024 10:24:23 +0100 (CET)
From: Florian Angeletti <florian.angeletti@inria.fr>
To: caml-list <caml-list@inria.fr>
Message-ID: <870730404.46756185.1732872263712.JavaMail.zimbra@inria.fr>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="=_350a184b-dc28-474b-a690-3a946f8f2f31"
X-Originating-IP: [128.93.64.106]
X-Mailer: Zimbra 10.0.9_GA_4654 (ZimbraWebClient - FF132 (Linux)/10.0.9_GA_4654)
Thread-Index: LCjOTn3nRtu7kepKS+crhfkYG+mUfQ==
Thread-Topic: Second beta release for OCaml 5.3.0
Subject: [Caml-list] Second beta release for OCaml 5.3.0
Reply-To: Florian Angeletti <florian.angeletti@inria.fr>
X-Loop: caml-list@inria.fr
X-Sequence: 19221
Errors-To: caml-list-owner@inria.fr
Precedence: list
Precedence: bulk
Sender: caml-list-request@inria.fr
X-no-archive: yes
List-Id: <caml-list.inria.fr>
List-Help: <mailto:sympa_inria@inria.fr?subject=help>
List-Subscribe: <mailto:sympa_inria@inria.fr?subject=subscribe%20caml-list>
List-Unsubscribe: <mailto:sympa_inria@inria.fr?subject=unsubscribe%20caml-list>
List-Post: <mailto:caml-list@inria.fr>
List-Owner: <mailto:caml-list-request@inria.fr>
List-Archive: <https://sympa.inria.fr/sympa/arc/caml-list>
Archived-At: <https://sympa.inria.fr/sympa/arcsearch_id/caml-list/2024-11/870730404.46756185.1732872263712.JavaMail.zimbra%40inria.fr>

--=_350a184b-dc28-474b-a690-3a946f8f2f31
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Dear OCaml users,=20

One month after the release of the first beta for OCaml 5.3.0,=20
we are releasing a second and hopefully last beta release for OCaml 5.3.0 .=
=20

The most notable changes for this second beta are probably a handful of typ=
e system bugfixes.=20
In particular, those fixes revert a change of behaviour in the first beta w=
hen pattern matching GADTs with=20
non-injective type parameters.=20

We also have a C++ header compatibility fix and the restoration of some con=
figuration=20
variable in Makefiles for the sake of backward compatibility.=20

Overall, the release is converging and we are expecting to have a first rel=
ease candidate=20
around the middle of December. The progresses on stabilising the ecosystem =
are tracked on the=20
[opam readiness for 5.3.0 meta-issue](https://github.com/ocaml/opam-reposit=
ory/issues/26596).=20

Meanwhile, the second beta release of OCaml 5.3.0 is here to help you updat=
e=20
your software and libraries ahead of the release (see below for the install=
ation=20
instructions).=20

The full release is expected before the end of December.=20

If you find any bugs, please report them on OCaml's issue tracker:=20

https://github.com/ocaml/ocaml/issues=20

If you are interested in full list of features and bug fixes of the new OCa=
ml version, the updated change log for OCaml 5.3.0 is available on GitHub:=
=20
https://github.com/ocaml/ocaml/blob/5.3/Changes=20

Happy hacking,=20
Florian Angeletti for the OCaml team.=20


Installation Instructions=20
-------------------------------=20

The base compiler can be installed as an opam switch with the following com=
mands=20
on opam 2.1 and later:=20


opam update=20
opam switch create 5.3.0~beta2=20

The source code for the beta is also available at these addresses:=20

* GitHub: https://github.com/ocaml/ocaml/archive/5.3.0-beta2.tar.gz=20
* OCaml archives at Inria: https://caml.inria.fr/pub/distrib/ocaml-5.3/ocam=
l-5.3.0~beta2.tar.gz=20

Fine-Tuned Compiler Configuration=20
-----------------------------------------------=20

If you want to tweak the configuration of the compiler, you can switch to t=
he option variant with:=20


opam update=20
opam switch create <switch_name> ocaml-variants.5.3.0~beta2+options <option=
_list>=20


where `option_list` is a space separated list of `ocaml-option-*` packages.=
 For instance, for a flambda and no-flat-float-array switch:=20

opam switch create 5.3.0~beta2+flambda+nffa ocaml-variants.5.3.0~beta2+opti=
ons ocaml-option-flambda ocaml-option-no-flat-float-array=20


All available options can be listed with `opam search ocaml-option`.=20


Changes since the first beta=20
-------------------------------------=20

Type system fixes=20
------------------------=20

- [#13501](https://github.com/ocaml/ocaml/issues/13501): Regression on mutu=
ally recursive types caused by [#12180](https://github.com/ocaml/ocaml/issu=
es/12180).=20
Resuscitate Typedecl.update_type.=20
(Jacques Garrigue and Takafumi Saikawa, review by Florian Angeletti, Richar=
d=20
Eisenberg and Gabriel Scherer)=20

- [#13495](https://github.com/ocaml/ocaml/issues/13495), [#13514](https://g=
ithub.com/ocaml/ocaml/issues/13514): Fix typechecker crash while typing obj=
ects=20
(Jacques Garrigue, report by Nicol=E1s Ojeda B=E4r, review by=20
Nicolas Ojeda B=E4r, Gabriel Scherer, Stephen Dolan, Florian Angeletti)=20

- [#13598](https://github.com/ocaml/ocaml/issues/13598): Falsely triggered =
warning 56 [unreachable-case]=20
This was caused by unproper protection of the retyping function.=20
(Jacques Garrigue, report by T=F5ivo Leedj=E4rv, review by Florian Angelett=
i)=20

Configuration fixes=20
-------------------------=20
* (*breaking change*) [#12578](https://github.com/ocaml/ocaml/issues/12578)=
, [#12589](https://github.com/ocaml/ocaml/issues/12589), [#13322](https://g=
ithub.com/ocaml/ocaml/issues/13322), +[#13519](https://github.com/ocaml/oca=
ml/issues/13519): Use configured CFLAGS and CPPFLAGS *only*=20
during the build of the compiler itself. Do not use them when=20
compiling third-party C sources through the compiler. Flags for=20
compiling third-party C sources can still be specified at configure=20
time in the COMPILER_{BYTECODE,NATIVE}_{CFLAGS,CPPFLAGS}=20
configuration variables.=20
(S=E9bastien Hinderer, report by William Hu, review by David Allsopp)=20

C++ header compatibility=20
---------------------------------=20

- [#13541](https://github.com/ocaml/ocaml/issues/13541), [#13591](https://g=
ithub.com/ocaml/ocaml/issues/13591): Fix headers for C++ inclusion.=20
(Antonin D=E9cimo, review by Nick Barnes, report by Kate Deplaix)=20


Compiler library bug fix=20
-------------------------------=20

- [#13603](https://github.com/ocaml/ocaml/issues/13603), [#13604](https://g=
ithub.com/ocaml/ocaml/issues/13604): fix source printing in the presence of=
 the escaped raw=20
identifier `\#mod`.=20
(Florian Angeletti, report by Chris Casinghino, review by Gabriel Scherer)=
=20

--=_350a184b-dc28-474b-a690-3a946f8f2f31
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

<html><body><div style=3D"font-family: arial, helvetica, sans-serif; font-s=
ize: 12pt; color: #000000"><div>Dear OCaml users,<br><br>One month after th=
e release of the first beta for OCaml 5.3.0, <br>we are releasing a second =
and hopefully last beta release for OCaml 5.3.0 .<br><br>The most notable c=
hanges for this second beta are probably a handful of type system bugfixes.=
<br>In particular, those fixes revert a change of behaviour in the first be=
ta when pattern matching GADTs with<br>non-injective type parameters.<br><b=
r>We also have a C++ header compatibility fix and the restoration of some c=
onfiguration<br>variable in Makefiles for the sake of backward compatibilit=
y.<br><br>Overall, the release is converging and we are expecting to have a=
 first release candidate<br>around the middle of December. The progresses o=
n stabilising the ecosystem are tracked on the<br>[opam readiness for 5.3.0=
 meta-issue](https://github.com/ocaml/opam-repository/issues/26596).<br><br=
>Meanwhile, the second beta release of OCaml 5.3.0 is here to help you upda=
te<br>your software and libraries ahead of the release (see below for the i=
nstallation<br>instructions).<br><br>The full release is expected before th=
e end of December.<br><br>If you find any bugs, please report them on OCaml=
's issue tracker: <br>&nbsp; <br>&nbsp; https://github.com/ocaml/ocaml/issu=
es<br><br>If you are interested in full list of features and bug fixes of t=
he new OCaml version, the updated change log for OCaml 5.3.0 is available o=
n GitHub:<br>&nbsp;&nbsp;&nbsp; https://github.com/ocaml/ocaml/blob/5.3/Cha=
nges<br><br>Happy hacking,<br>Florian Angeletti for the OCaml team.<br><br>=
<br>Installation Instructions<br></div><div>-------------------------------=
<br data-mce-bogus=3D"1"></div><div><br>The base compiler can be installed =
as an opam switch with the following commands<br>on opam 2.1 and later:<br>=
<br><br>&nbsp;&nbsp;&nbsp; opam update<br>&nbsp;&nbsp;&nbsp; opam switch cr=
eate 5.3.0~beta2<br><br>The source code for the beta is also available at t=
hese addresses:<br><br>* GitHub: https://github.com/ocaml/ocaml/archive/5.3=
.0-beta2.tar.gz<br>* OCaml archives at Inria: https://caml.inria.fr/pub/dis=
trib/ocaml-5.3/ocaml-5.3.0~beta2.tar.gz<br><br>Fine-Tuned Compiler Configur=
ation</div><div>-----------------------------------------------<br><br>If y=
ou want to tweak the configuration of the compiler, you can switch to the o=
ption variant with:<br><br><br>&nbsp;&nbsp;&nbsp; opam update<br>&nbsp;&nbs=
p;&nbsp; opam switch create &lt;switch_name&gt; ocaml-variants.5.3.0~beta2+=
options &lt;option_list&gt;<br><br><br>where `option_list` is a space separ=
ated list of `ocaml-option-*` packages. For instance, for a flambda and no-=
flat-float-array switch:<br><br>&nbsp;&nbsp;&nbsp; opam switch create 5.3.0=
~beta2+flambda+nffa ocaml-variants.5.3.0~beta2+options ocaml-option-flambda=
 ocaml-option-no-flat-float-array<br><br><br>All available options can be l=
isted with `opam search ocaml-option`.<br><br><br>Changes since the first b=
eta<br>-------------------------------------<br><br>&nbsp; Type system fixe=
s<br>&nbsp; ------------------------<br>&nbsp; <br>&nbsp; - [#13501](https:=
//github.com/ocaml/ocaml/issues/13501): Regression on mutually recursive ty=
pes caused by [#12180](https://github.com/ocaml/ocaml/issues/12180).<br>&nb=
sp;&nbsp;&nbsp; Resuscitate Typedecl.update_type.<br>&nbsp;&nbsp;&nbsp; (Ja=
cques Garrigue and Takafumi Saikawa, review by Florian Angeletti, Richard<b=
r>&nbsp;&nbsp;&nbsp; Eisenberg and Gabriel Scherer)<br>&nbsp; <br>&nbsp; - =
[#13495](https://github.com/ocaml/ocaml/issues/13495), [#13514](https://git=
hub.com/ocaml/ocaml/issues/13514): Fix typechecker crash while typing objec=
ts<br>&nbsp;&nbsp;&nbsp; (Jacques Garrigue, report by Nicol=E1s Ojeda B=E4r=
, review by<br>&nbsp;&nbsp;&nbsp;&nbsp; Nicolas Ojeda B=E4r, Gabriel Schere=
r, Stephen Dolan, Florian Angeletti)<br>&nbsp; <br>&nbsp; - [#13598](https:=
//github.com/ocaml/ocaml/issues/13598): Falsely triggered warning 56 [unrea=
chable-case]<br>&nbsp;&nbsp;&nbsp; This was caused by unproper protection o=
f the retyping function.<br>&nbsp;&nbsp;&nbsp; (Jacques Garrigue, report by=
 T=F5ivo Leedj=E4rv, review by Florian Angeletti)<br>&nbsp; <br>&nbsp; Conf=
iguration fixes<br>&nbsp; -------------------------<br>&nbsp; * (*breaking =
change*) [#12578](https://github.com/ocaml/ocaml/issues/12578), [#12589](ht=
tps://github.com/ocaml/ocaml/issues/12589), [#13322](https://github.com/oca=
ml/ocaml/issues/13322), +[#13519](https://github.com/ocaml/ocaml/issues/135=
19): Use configured CFLAGS and CPPFLAGS *only*<br>&nbsp;&nbsp;&nbsp; during=
 the build of the compiler itself. Do not use them when<br>&nbsp;&nbsp;&nbs=
p; compiling third-party C sources through the compiler. Flags for<br>&nbsp=
;&nbsp;&nbsp; compiling third-party C sources can still be specified at con=
figure<br>&nbsp;&nbsp;&nbsp; time in the COMPILER_{BYTECODE,NATIVE}_{CFLAGS=
,CPPFLAGS}<br>&nbsp;&nbsp;&nbsp; configuration variables.<br>&nbsp;&nbsp;&n=
bsp;&nbsp; (S=E9bastien Hinderer, report by William Hu, review by David All=
sopp)<br>&nbsp;&nbsp;<br>&nbsp; C++ header compatibility<br></div><div>&nbs=
p; ---------------------------------<br data-mce-bogus=3D"1"></div><div>&nb=
sp; <br>&nbsp; - [#13541](https://github.com/ocaml/ocaml/issues/13541), [#1=
3591](https://github.com/ocaml/ocaml/issues/13591): Fix headers for C++ inc=
lusion.<br>&nbsp;&nbsp;&nbsp; (Antonin D=E9cimo, review by Nick Barnes, rep=
ort by Kate Deplaix)<br>&nbsp; <br>&nbsp; <br>&nbsp; Compiler library bug f=
ix<br>&nbsp; -------------------------------<br></div><div><br>&nbsp; - [#1=
3603](https://github.com/ocaml/ocaml/issues/13603), [#13604](https://github=
.com/ocaml/ocaml/issues/13604): fix source printing in the presence of the =
escaped raw<br>&nbsp;&nbsp;&nbsp; identifier `\#mod`.<br>&nbsp;&nbsp;&nbsp;=
 (Florian Angeletti, report by Chris Casinghino, review by Gabriel Scherer)=
<br data-mce-bogus=3D"1"></div></div></body></html>
--=_350a184b-dc28-474b-a690-3a946f8f2f31--
