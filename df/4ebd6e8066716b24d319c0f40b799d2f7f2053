Received: from Hermes.metastack.local (172.16.0.8) by Hermes.metastack.local
 (172.16.0.8) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.2507.32 via Mailbox
 Transport; Thu, 7 Sep 2023 09:59:46 +0100
Received: from Hermes.metastack.local (172.16.0.8) by Hermes.metastack.local
 (172.16.0.8) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.2507.32; Thu, 7 Sep
 2023 09:59:46 +0100
Received: from exchange.romulus.metastack.com (172.16.0.21) by
 Hermes.metastack.local (172.16.0.8) with Microsoft SMTP Server
 (version=TLS1_0, cipher=TLS_RSA_WITH_AES_256_CBC_SHA) id 15.1.2507.32 via
 Frontend Transport; Thu, 7 Sep 2023 09:59:46 +0100
Received: from romulus.metastack.com ([172.16.0.20])
	by exchange.romulus.metastack.com (8.14.2/8.14.2) with ESMTP id 3878xIUa020691
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dra@metastack.local>; Thu, 7 Sep 2023 09:59:18 +0100
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by romulus.metastack.com (8.14.2/8.14.2) with ESMTP id 3878xArn020677
	for <dra-news@metastack.com>; Thu, 7 Sep 2023 09:59:10 +0100
Received: from prod-listesu18.inria.fr (HELO sympa.inria.fr) ([128.93.162.160])
  by mail2-relais-roc.national.inria.fr with ESMTP; 07 Sep 2023 10:59:09 +0200
Received: by sympa.inria.fr (Postfix, from userid 20132)
	id F3C70E0CE0; Thu,  7 Sep 2023 10:59:07 +0200 (CEST)
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id BD54DE004E
	for <caml-list@sympa.inria.fr>; Thu,  7 Sep 2023 10:59:02 +0200 (CEST)
Received: from zcs-store1.inria.fr ([128.93.142.28])
  by mail2-relais-roc.national.inria.fr with ESMTP; 07 Sep 2023 10:59:02 +0200
From: Florian Angeletti <florian.angeletti@inria.fr>
To: caml-list <caml-list@inria.fr>
Subject: [Caml-list] Third release candidate for OCaml 5.1.0
Thread-Topic: Third release candidate for OCaml 5.1.0
Thread-Index: AQHZ4WmmMC39dBvMx0SJJmR1BDryGw==
Sender: "caml-list-request@inria.fr" <caml-list-request@inria.fr>
X-MS-Exchange-MessageSentRepresentingType: 2
Date: Thu, 7 Sep 2023 09:59:02 +0100
Message-ID: <1861229394.4643585.1694077142586.JavaMail.zimbra@inria.fr>
References: <1683360478.6348093.1681545181983.JavaMail.zimbra@inria.fr>
 <614877951.14559857.1685692007861.JavaMail.zimbra@inria.fr>
 <285796528.1775709.1688494250152.JavaMail.zimbra@inria.fr>
 <76ead9ad-28e4-c3a7-e567-ac8afe812c00@inria.fr>
 <1508820154.827312.1693382905209.JavaMail.zimbra@inria.fr>
Keywords: Sent to dra-news@metastack.com,Marked bulk,MetaStack -
 Lists,MetaStack
List-Help: <mailto:sympa_inria@inria.fr?subject=help>
List-Subscribe: <mailto:sympa_inria@inria.fr?subject=subscribe%20caml-list>
List-Unsubscribe:
	<mailto:sympa_inria@inria.fr?subject=unsubscribe%20caml-list>
In-Reply-To: <1508820154.827312.1693382905209.JavaMail.zimbra@inria.fr>
Reply-To: Florian Angeletti <florian.angeletti@inria.fr>
Content-Language: en-GB
X-MS-Exchange-Organization-AuthAs: Anonymous
X-MS-Exchange-Organization-AuthSource: Hermes.metastack.local
X-MS-Has-Attach:
X-Auto-Response-Suppress: All
X-MS-Exchange-Organization-Network-Message-Id:
	0c55a0ba-cf33-4be0-7629-08dbaf80c8fd
X-MS-TNEF-Correlator:
X-MS-Exchange-Organization-RecordReviewCfmType: 0
x-scanned-by: MIMEDefang 2.65 on 62.31.23.242
x-originating-ip: [128.93.64.106]
received-spf: None (mail2-relais-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@sympa.inria.fr) identity=helo;  client-ip=128.93.162.160;
  receiver=mail2-relais-roc.national.inria.fr;
  envelope-from="caml-list-owner@inria.fr";
  x-sender="postmaster@sympa.inria.fr"; x-conformance=spf_only
x-ironport-av: E=Sophos;i="6.02,234,1688421600";    d="scan'208";a="124780221"
x-loop: caml-list@inria.fr
x-no-archive: yes
Content-Type: text/plain; charset="iso-8859-1"
Content-ID: <C6CEA71B1A24F742AF426F39D434E1EB@metastack.local>
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Dear OCaml users,

Since last week, there was two significant bugs fixed in the OCaml 5.1.0 ru=
ntime (one overflow bug, and a stack corruption bug in the s390x port). Sin=
ce those bug fixes are as small as they are subtle, they were deemed worthy=
 of a release of a third release candidate for OCaml 5.1.0.

If there are no more surprise this week, the release of OCaml 5.1.0 shall h=
appen next week.

If you find any bugs, please report them on OCaml's issue tracker(https://g=
ithub.com/ocaml/ocaml/issues).

The full changelog for OCaml 5.1.0 is available on GitHub(https://github.co=
m/ocaml/ocaml/blob/5.1/Changes)

A short summary of the two fixed bugs in this release candidate is also ava=
ilable below.

Happy hacking,
Florian Angeletti for the OCaml team.


Installation Instructions
-------------------------

The base compiler can be installed as an opam switch with the following com=
mands on opam 2.1 and later:

    opam update
    opam switch create 5.1.0~rc3


The source code for the release candidate is also directly available on:

* GitHub: https://github.com/ocaml/ocaml/archive/5.1.0-rc3.tar.gz
* OCaml archives at Inria: https://caml.inria.fr/pub/distrib/ocaml-5.1/ocam=
l-5.1.0~rc3.tar.gz

Fine-Tuned Compiler Configuration
---------------------------------

If you want to tweak the configuration of the compiler, you can switch to t=
he option variant with:

    opam update
    opam switch create <switch_name> ocaml-variants.5.1.0~rc3+options <opti=
on_list>

where `<option_list>` is a comma-separated list of `ocaml-option-*` package=
s. For instance, for a `flambda` and `no-flat-float-array` switch:

    opam switch create 5.1.0~rc3+flambda+nffa ocaml-variants.5.1.0~rc3+opti=
ons ocaml-option-flambda ocaml-option-no-flat-float-array


All available options can be listed with `opam search ocaml-option`.

Last Second Bug Fixes
---------------------

- #11284, +[#12525](https://github.com/ocaml/ocaml/issues/12525): Use compr=
ession of entries scheme when pruning mark stack.
   Can decrease memory usage for some workloads, otherwise should be
   unobservable.
   (Tom Kelly, review by Sabine Schmaltz, Sadiq Jaffer and Damien Doligez)

- #12486(https://github.com/ocaml/ocaml/issues/12486): Fix delivery of unha=
ndled effect exceptions on s390x
  (Miod Vallat, report by Jan Midtgaard, review by Vincent Laviron and Xavi=
er
  Leroy)
